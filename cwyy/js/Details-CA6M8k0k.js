import{_ as l,r as a,d as t,c as e,a as s,e as n,F as o,f as i,w as u,T as c,u as d,o as r,t as v,g as h,h as m}from"./index-DZtmkp5c.js";const p={class:"page-container"},g={key:0,class:"table-container"},k=["onClick"],f={key:1,class:"arranged-text"},b={key:1,class:"empty-state"},y={class:"modal-content"},w={class:"modal-message"},x=l({__name:"Details",setup(l){const x=d(),C=a([]),D=a(!1),_=a(null);t((()=>{const l=localStorage.getItem("reservations");l&&(C.value=JSON.parse(l))}));const S=()=>{D.value=!1,x.push("/notifications")},I=()=>{D.value=!1,x.push("/notifications")},A=()=>{x.push("/")};return(l,a)=>(r(),e("div",p,[s("div",{class:"header"},[s("span",{class:"close-icon",onClick:A},"×"),a[0]||(a[0]=s("h1",{class:"title"},"预约详情",-1)),a[1]||(a[1]=s("span",{class:"more-icon"},"···",-1))]),C.value.length>0?(r(),e("div",g,[s("table",null,[a[2]||(a[2]=s("thead",null,[s("tr",null,[s("th",null,"序号"),s("th",null,"姓名"),s("th",null,"性别"),s("th",null,"手机号"),s("th",null,"预约床位"),s("th",null,"日期"),s("th",null,"安排床位")])],-1)),s("tbody",null,[(r(!0),e(o,null,i(C.value,((l,a)=>{return r(),e("tr",{key:l.id},[s("td",null,v(a+1),1),s("td",null,v(l.name),1),s("td",null,v(l.gender),1),s("td",null,v(l.phone.substring(0,3)+"..."),1),s("td",null,v(l.bedType),1),s("td",null,v((t=l.createdAt,t?new Date(t).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1}):"")),1),s("td",null,["pending"===l.status?(r(),e("button",{key:0,class:"action-btn",onClick:a=>(l=>{_.value=l;const a=C.value.findIndex((a=>a.id===l.id));-1!==a&&(C.value[a].status="arranged",localStorage.setItem("reservations",JSON.stringify(C.value))),D.value=!0})(l)}," 安排 ",8,k)):(r(),e("span",f,"已安排"))])]);var t})),128))])])])):(r(),e("div",b,a[3]||(a[3]=[s("p",null,"暂无预约记录",-1)]))),n(c,{name:"modal-fade"},{default:u((()=>{var l;return[D.value?(r(),e("div",{key:0,class:"modal-overlay",onClick:m(I,["self"])},[s("div",y,[s("button",{class:"modal-close",onClick:I},"×"),a[4]||(a[4]=s("div",{class:"modal-icon"},[s("svg",{width:"60",height:"60",viewBox:"0 0 80 80",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[s("circle",{cx:"40",cy:"40",r:"38",fill:"white",stroke:"#1DD1A1","stroke-width":"4"}),s("path",{d:"M26 41.5L36.5 52L54.5 34",stroke:"#1DD1A1","stroke-width":"5","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),s("p",w,v(null==(l=_.value)?void 0:l.name)+"床位安排成功! ",1),s("div",{class:"modal-actions"},[s("button",{class:"btn-cancel",onClick:I},"取消"),s("button",{class:"btn-confirm",onClick:S},"确定")])])])):h("",!0)]})),_:1})]))}},[["__scopeId","data-v-f2f634a1"]]);export{x as default};
